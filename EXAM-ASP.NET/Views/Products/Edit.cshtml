@model EXAM_ASP_NET.Data.Entities.Product

<h2 class="text-light mb-4">Create Auction Listing</h2>

@if (TempData["SuccessMessage"] != null)
{
    <div class="alert alert-success">@TempData["SuccessMessage"]</div>
}

<form class="row g-3" asp-action="Create" method="post">
    <input asp-for="IsAuction" type="hidden" value="true" />

    <div class="col-md-8">
        <label asp-for="Title" class="form-label text-light">Title</label>
        <input asp-for="Title" type="text" class="form-control bg-dark text-light border-secondary" placeholder="Enter auction title">
        <span asp-validation-for="Title" class="small text-danger"></span>
    </div>

    <div class="col-md-4">
        <label asp-for="StartingPrice" class="form-label text-light">Starting Price</label>
        <input asp-for="StartingPrice" min="0" step="0.01" type="number" class="form-control bg-dark text-light border-secondary" placeholder="Enter starting price">
        <span asp-validation-for="StartingPrice" class="small text-danger"></span>
    </div>

    <div class="col-md-4">
        <label asp-for="MinBidIncrement" class="form-label text-light">Min Bid Increment</label>
        <input asp-for="MinBidIncrement" min="0.01" step="0.01" type="number" class="form-control bg-dark text-light border-secondary" placeholder="Minimum bid step">
        <span class="form-text small text-muted">Minimum amount each new bid must increase by.</span>
        <span asp-validation-for="MinBidIncrement" class="small text-danger"></span>
    </div>

    <div class="col-md-4">
        <label asp-for="ReservePrice" class="form-label text-light">Reserve Price (optional)</label>
        <input asp-for="ReservePrice" min="0" step="0.01" type="number" class="form-control bg-dark text-light border-secondary" placeholder="Optional reserve price">
        <span class="form-text small text-muted">Seller's minimum acceptable price (optional).</span>
        <span asp-validation-for="ReservePrice" class="small text-danger"></span>
    </div>

    <div class="col-md-4">
        <label asp-for="BuyNowPrice" class="form-label text-light">Buy Now Price (optional)</label>
        <input asp-for="BuyNowPrice" min="0" step="0.01" type="number" class="form-control bg-dark text-light border-secondary" placeholder="Optional buy-now price">
        <span class="form-text small text-muted">Optional immediate purchase price to end auction.</span>
        <span asp-validation-for="BuyNowPrice" class="small text-danger"></span>
    </div>

    <div class="col-md-6">
        <label asp-for="AuctionEnd" class="form-label text-light">Auction End (date & time)</label>
        <input asp-for="AuctionEnd" type="datetime-local" class="form-control bg-dark text-light border-secondary">
        <span class="form-text small text-muted">Set the date and time when the auction ends.</span>
        <span asp-validation-for="AuctionEnd" class="small text-danger"></span>
    </div>

    <div class="col-md-2">
        <label asp-for="Quantity" class="form-label text-light">Quantity</label>
        <input asp-for="Quantity" min="1" step="1" type="number" class="form-control bg-dark text-light border-secondary" placeholder="Quantity">
        <span asp-validation-for="Quantity" class="small text-danger"></span>
    </div>

    <div class="col-md-8">
        <label asp-for="CategoryId" class="form-label text-light">Category</label>
        <select asp-for="CategoryId" asp-items="@ViewBag.Categories" class="form-select bg-dark text-light border-secondary">
            <option disabled selected>Choose category...</option>
        </select>
        <span asp-validation-for="CategoryId" class="small text-danger"></span>
    </div>

    <div class="col-md-12">
        <label asp-for="ImageUrl" class="form-label text-light">Image Url</label>
        <input asp-for="ImageUrl" type="url" class="form-control bg-dark text-light border-secondary" placeholder="Enter image URL">
        <span asp-validation-for="ImageUrl" class="small text-danger"></span>
    </div>

    <div class="col-md-12">
        <label asp-for="Description" class="form-label text-light">Description</label>
        <textarea asp-for="Description" class="form-control bg-dark text-light border-secondary" rows="4" placeholder="Enter description"></textarea>
        <span asp-validation-for="Description" class="small text-danger"></span>
    </div>

    <div class="col-6">
        <a asp-action="Index" class="btn btn-secondary w-100">Back</a>
    </div>
    <div class="col-6">
        <button type="submit" class="btn btn-success w-100">Create Auction</button>
    </div>
</form>
